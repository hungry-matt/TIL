# 대용량 웹서비스를 위한 마이크로 서비스 아키텍쳐

## 모노리틱 아키텍쳐(Monolithic Architecture)
마이크로 서비스 아키텍쳐를 이해하려면 먼저 모노리틱 아키텍쳐 스타일에 대해 이해해야 한다.

- 모노리틱 아키텍쳐는 기존의 전통적인 웹 시스템 개발 스타일.
- 하나의 애플리케이션 내 모든 로직들이 들어 가 있는 '통짜구조'.
(예를 들어, 온라인 쇼핑몰 애플리케이션이 있을때, 톰캣 서버에서 도는 WAR 파일내에, 사용자관리, 상품, 주문 관리 모든 컴포넌트들이 들어 있고 이를 처리하는 UX로직까지 하나로 묶여 있는 구조)
- 전체 애플리케이션을 하나로 처리하기 때문에 하나의 애플리케이션만 개발하면 되고, 배포 역시 간편하며 테스트도 하나의 애플리케이션만 수행하면 되기 때문에 편리.

### 문제점
- 모노리틱 구조의 경우 작은 크기의 애플리케이션에서는 용이 하지만, 규모가 큰 애플리케이션에서는 불리.
- 크기가 크기 때문에, 빌드 및 배포 시간, 서버의 기동시간이 오래 걸림.
- 한 두사람의 실수는 전체 시스템의 빌드 실패를 유발하기 때문에 여러 사람과 협업 개발하기가 쉽지 않음.
- 시스템 컴포넌트들이 서로 로컬 콜(call-by-reference)기반으로 타이트하게 연결되어 있기 때문에, 전체 시스템의 구조를 제대로 파악하지 않고 개발을 진행하면 성능 문제나 장애가 다른 컴포넌트에 영향을 줄수 있음.
- 이런 문제를 해결하기 위해서는 개발자가 전체 시스템의 구조를 이해 해야 하는데 시스템의 구조가 커질수록 개인이 이해하는것은 어려움.
- 컴포넌트를 수정하고 재배포시 전체 애플리케이션을 다시 컴파일 하여 재배포 해야 하기 때문에 잦은 배포가 있는 시스템의 경우 불리함.
- 컴포넌트 별로 기능/비기능적 특성에 맞춰 다른 기술을 도입하고자 할때 유연하지 않음.
(예를 들어, 전체 애플리케이션을 자바로 개발한다고 했을때, 파일 업로드/다운로드 같은 IO작업이 많은 컴포넌트의 경우 node.js를 사용하는 것이 좋을수 있으나 애플리케이션이 자바로 개발되었기 때문에 다른 기술을 넣기가 매우 어려움.)

>모노리틱 아키텍쳐가 꼭 나쁘다는 것이 아니다.
><br> 규모가 작은 애플리케이션에서는 배포가 용이하고, 규모가 크더라도 call-by-reference call에 의해서 컴포넌트간 호출시 성능에 제약이 덜하며, 운영 관리가 용이 하다.
><br> 즉 마이크로 서비스 아키텍쳐가 모든 부분에 통용되는 정답은 아니며, 상황과 필요에 따라서 마이크로 서비스 아키텍쳐나 모노로틱 아키텍쳐를 적절하게 선택 할 필요가 있다.

### 참고
- [MAS의 이해](https://bcho.tistory.com/948)